"0","set.seed(1)"
"0","initX <- rnorm(50)"
"0","newY <- NULL"
"0","newX <- NULL"
"0","sub <- rep(1:10, each = 5)"
"0","rsq <- .9"
"0","addx <- -2"
"0","for (i in 1:10){"
"0","    addx <- addx + .25"
"0","    tempData <- initX[sub == i] + addx"
"0","    sdx <- sd(tempData)"
"0","    sdnoise <- sdx * (sqrt((1-rsq)/rsq))"
"0","    tempy <- tempData + rnorm(5,0,sdnoise) + rnorm(1,0,3)"
"0","    newY <- c(newY, tempy)"
"0","    newX <- c(newX,tempData)"
"0","}"
"0","exampleMat <-data.frame(cbind(sub,newX,newY))"
"0","example.rmc <- rmcorr(sub,newX,newY,exampleMat)"
"0","###standard averaged regression plot"
"0","submeanx <- aggregate(exampleMat$newX, by = list(exampleMat$sub), mean)"
"0","submeany <- aggregate(exampleMat$newY, by = list(exampleMat$sub), mean)"
"0","mypal <- colorRampPalette(RColorBrewer::brewer.pal(10,'Paired'))"
"0","cols <- mypal(10)"
"0","par(mfrow = c(1, 2), mgp = c(2.5, .75, 0), mar = c(4,4,2,1), cex = 1.2)"
"0","plot(example.rmc, exampleMat, xlab = ""x"", ylab = ""y"", "
"0","     overall = F, palette = mypal, las = 1, ylim = c(-6, 6.5))"
