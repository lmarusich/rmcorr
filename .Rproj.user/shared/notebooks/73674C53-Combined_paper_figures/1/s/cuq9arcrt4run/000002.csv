"0","require(pwr)"
"0","require(psych) "
"0","require(RColorBrewer)"
"0","require(plotrix)"
"0","require(rmcorr)"
"0","require(lme4)"
"0","# require(AICcmodavg)"
"0","require(ggplot2)"
"0","require(merTools)"
"0","addalpha <- function(colors, alpha=1.0) {"
"0","    r <- col2rgb(colors, alpha=T)"
"0","    # Apply alpha"
"0","    r[4,] <- alpha*255"
"0","    r <- r/255.0"
"0","    return(rgb(r[1,], r[2,], r[3,], r[4,]))"
"0","}"
"0","# colorRampPaletteAlpha()"
"0","colorRampPaletteAlpha <- function(colors, n=32, interpolate='linear') {"
"0","    # Create the color ramp normally"
"0","    cr <- colorRampPalette(colors, interpolate=interpolate)(n)"
"0","    # Find the alpha channel"
"0","    a <- col2rgb(colors, alpha=T)[4,]"
"0","    # Interpolate"
"0","    if (interpolate=='linear') {"
"0","        l <- approx(a, n=n)"
"0","    } else {"
"0","        l <- spline(a, n=n)"
"0","    }"
"0","    l$y[l$y > 255] <- 255 # Clamp if spline is > 255"
"0","    cr <- addalpha(cr, l$y/255.0)"
"0","    return(cr)"
"0","}"
