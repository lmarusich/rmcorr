{
    "contents" : "#' Plot the repeated measures correlation coefficient.\n#' \n#' \\code{rmcplot}  produces a scatterplot of \\code{measure1} on the x-axis and \n#' \\code{measure2} on the y-axis, with a different color used for each subject.\n#' Parallel lines are fitted to each subject's data.\n#' \n#' @param rmc an object of class \"rmc\" generated from the \\code{\\link{rmcorr}} function.\n#' @param dataset the data frame containing the variables.\n#' @param overall logical: if TRUE, plots the regression line between measure1 and\n#' measure2, ignoring the participant variable.\n#' @param xlab label for the x axis, defaults to the variable name for measure1.\n#' @param ylab label for the y axis, defaults to the variable name for measure2.\n#' @param ... additional arguments to \\code{\\link[graphics]{plot}}.\n#' @seealso \\code{\\link{rmcorr}}\n#' @examples\n#' ## Bland Altman 1995 data\n#' my.rmc <- rmcorr(participant = Subject, measure1 = PacO2, measure2 = pH, \n#' dataset = bland1995)\n#' rmcplot(my.rmc, bland1995, overall = TRUE)\n#' @export\n\n# rmcplot <-function(participant, measure1, measure2, dataset, overall=F,\n#                        xlab=NULL, ylab=NULL,...) \nrmcplot <-function(rmc, dataset, overall = T, xlab = NULL, ylab = NULL,...)    \n{\n\n    subs <- factor(dataset[[eval(rmc$vars[[1]])]])\n    m1 <- dataset[[eval(rmc$vars[[2]])]]\n    m2 <- dataset[[eval(rmc$vars[[3]])]]\n    \n    if (is.null(xlab)){\n        xlab <- rmc$vars[[2]]\n    }\n    if (is.null(ylab)){\n        ylab <- rmc$vars[[3]]\n    }\n    \n    set1 <- RColorBrewer::brewer.pal(12,'Paired')\n    pal <- colorRampPalette(set1)\n    colors <- pal(length(levels(subs)))\n    plot(m1, m2, pch=16, col = colors[subs], xlab=xlab, ylab = ylab, ...)\n    \n    nsubs <- length(levels(subs))\n    \n    preds <- predict(rmc$model)\n    \n    for (i in 1:nsubs){\n        subindex <- which(subs == levels(subs)[i])\n        lines(m1[subindex], preds[subindex], col = colors[i])\n    }\n    \n    if (overall) {\n        abline(lm(m2 ~ m1), col = \"gray60\", lwd = 3,lty = 2)\n    }\n}\n",
    "created" : 1432150410658.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4229012429",
    "id" : "41423B46",
    "lastKnownWriteTime" : 1437768998,
    "path" : "C:/Users/Laura Cooper/Desktop/Need from Laptop/rmcorr package/rmcorr/R/rmcplot.R",
    "project_path" : "R/rmcplot.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "type" : "r_source"
}