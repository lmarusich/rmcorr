{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Rmcorr w/jitter and ggplot\"\nauthor: \"Jonathan Bakdash\"\ndate: \"January 2, 2018\"\noutput: pdf_document\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(rmcorr, stats, grDevices, graphics, psych, RColorBrewer, ggplot2)\n```\n\n## Bland and Altman example: Rmcorr output, base plot, and ggplot2\n```{r}\nmy.rmc <- rmcorr(participant = Subject, measure1 = PacO2, measure2 = pH, dataset = bland1995)\nmy.rmc\nplot(my.rmc, bland1995, overall = TRUE,  overall.col = 'black') \n\n#Jitter pH to make separate regression lines clear\nset.seed(999)\njitter.noise <- rnorm(dim(bland1995)[1], 0, 0.20)\n\nbland1995$ph.jitter <- bland1995$pH + jitter.noise \n\nmy.rmc.jitter <- rmcorr(participant = Subject, measure1 = PacO2, measure2 = ph.jitter, dataset = bland1995)\n\n#Note output is different because ph was jittered\nmy.rmc.jitter\n\n#Default plot\ndark <- brewer.pal(8, 'Dark2')\npal <- colorRampPalette(dark)\nplot(my.rmc.jitter, bland1995, overall = TRUE, palette = pal, overall.col = 'black') \n\nnames(my.rmc.jitter$model$coefficients)\nInt <- as.numeric(my.rmc.jitter$model$coefficients[\"(Intercept)\"])\nSlope <- as.numeric(my.rmc.jitter$model$coefficients[\"Measure1\"])\n\n#ggplot2 example\nggplot(bland1995, aes(x = PacO2, y = ph.jitter, group = factor(Subject), color = factor(Subject))) +\n  geom_point(aes(colour = factor(Subject))) +\n  geom_line(aes(y = my.rmc.jitter$model$fitted.values), linetype = 1) + \n  #geom_abline(intercept = 7.91, slope = -0.16, colour = \"black\")\n  geom_abline(intercept = as.numeric(my.rmc.jitter$model$coefficients[\"(Intercept)\"]), \n              slope =  as.numeric(my.rmc.jitter$model$coefficients[\"Measure1\"]), \n              colour = \"black\", size = 1, linetype = 2) \n```\n",
    "created" : 1519666989924.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3990697606",
    "id" : "C64B61BB",
    "lastKnownWriteTime" : 1519666989,
    "last_content_update" : 1519666989,
    "path" : "C:/Users/Laura Cooper/AppData/Local/Temp/Temp1_fwrmcorrggplotunclassified.zip/Rmcorr_example.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 10,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}